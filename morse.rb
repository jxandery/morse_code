class Morse

  def encode
    {"a" => ".-", "b" => "-...", "c" => "-.-.", "d" => "-..", "e" => ".",
     "f" => "..-.", "g" => "--.", "h" => "....", "i" => "..", "j" => ".---",
     "k" => "-.-", "l" => ".-..", "m" => "--", "n" => "-.", "o" => "---",
     "p" => ".--.", "q" => "--.-", "r" => ".-.", "s" => "...", "t" => "-",
     "u" => "..-", "v" => "...-", "w" => ".--", "x" => "-..-", "y" => "-.--",
     "z" => "--..", " " => "  ", "," => ",", "." => ".", "!" => "!"
    }
  end

  def decode
    {".-" => "a", "-..." => "b", "-.-." => "c", "-.." => "d", "." => "e",
     "..-." => "f", "--." => "g", "...." => "h", ".." => "i", ".---" => "j",
     "-.-" => "k", ".-.." => "l", "--" => "m", "-." => "n", "---" => "o",
     ".--." => "p", "--.-" => "q", ".-." => "r", "..." => "s", "-" => "t",
     "..-" => "u", "...-" => "v", ".--" => "w", "-..-" => "x", "-.--" => "y",
     "--.." => "z", "  " => " ", "," => ",", ". " => ".", "!" => "!", "|" => " "
    }
  end

  def encode_message(input)
    input.chars.map do |char|
      encode[char.downcase] + " "
    end.join
  end

  def decode_message(input)
    input = input.gsub("    ", " | ")
    words = input.split(" ")
    words.map do |word|
      decode[word.downcase]
    end.join
  end
end
